<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NMMS 2026 Result Dashboard</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Arial;}

body{
background:#f4f6fa;
padding:20px;
}

/* ===== Container ===== */
.container{
max-width:950px;
margin:auto;
background:white;
border-radius:10px;
box-shadow:0 10px 40px rgba(0,0,0,0.08);
overflow:hidden;
}

/* ===== Header ===== */
.header{
background:#c2185b;
color:white;
padding:20px;
text-align:center;
}

.header h1{
font-size:20px;
margin-bottom:4px;
}

/* ===== Buttons ===== */
.top-bar{
display:flex;
justify-content:space-between;
padding:12px 18px;
background:#fafafa;
}

button{
background:#222;
color:white;
border:none;
padding:6px 14px;
border-radius:4px;
cursor:pointer;
font-size:12px;
}

/* ===== Main Stats ===== */
.stats{
padding:25px;
text-align:center;
}

.big-average{
font-size:40px;
font-weight:800;
color:#c2185b;
}

.sub-text{
font-size:13px;
color:#666;
margin-bottom:15px;
}

.badge{
display:inline-block;
padding:5px 12px;
border-radius:20px;
font-size:12px;
margin-top:6px;
}

.pass{background:#e8f5e9;color:#2e7d32;}
.fail{background:#ffebee;color:#c62828;}

.rank{
margin-top:8px;
font-size:13px;
font-weight:bold;
}

/* ===== Ring Graph ===== */
.ring-wrapper{
display:flex;
justify-content:center;
margin:20px 0;
}

svg{
transform:rotate(-90deg);
}

.circle-bg{
fill:none;
stroke:#eee;
stroke-width:12;
}

.circle{
fill:none;
stroke:#c2185b;
stroke-width:12;
stroke-linecap:round;
transition:1s ease;
}

.ring-text{
position:absolute;
font-size:18px;
font-weight:bold;
}

/* ===== Bar Graph ===== */
.bar-area{
display:flex;
justify-content:center;
gap:60px;
height:160px;
align-items:flex-end;
}

.bar{
width:50px;
height:0;
background:#c2185b;
transition:1s ease;
}

.bar-label{
text-align:center;
font-size:12px;
margin-top:6px;
}

/* ===== Exam Box ===== */
.exam-section{
padding:20px;
}

.exam-box{
border:1px solid #ddd;
padding:12px;
border-radius:6px;
margin-bottom:10px;
background:#fafafa;
}

.exam-title{
font-weight:bold;
margin-bottom:5px;
}

.row{
display:flex;
justify-content:space-between;
font-size:13px;
margin:3px 0;
}

/* ===== Print Seal ===== */
.print-seal{
display:none;
text-align:center;
margin-top:20px;
}

.seal{
width:100px;
height:100px;
border:3px solid #c2185b;
border-radius:50%;
margin:10px auto;
display:flex;
align-items:center;
justify-content:center;
font-weight:bold;
color:#c2185b;
}

.footer{
text-align:center;
padding:15px;
font-size:12px;
color:#555;
}

@media print{
button{display:none;}
.print-seal{display:block;}
.exam-box.pending{display:none;}
body{background:white;}
.container{box-shadow:none;}
}
</style>
</head>

<body>

<div class="container">

<div class="header">
<h1>NMMS 2026 Result Dashboard</h1>
</div>

<div class="top-bar">
<button onclick="location.href='index.html'">Back</button>
<button onclick="window.print()">Print</button>
</div>

<div class="stats">
<div class="big-average" id="bigAvg">0%</div>
<div class="sub-text">Overall Performance</div>
<div id="passFail" class="badge"></div>
<div class="rank" id="rankText"></div>

<div class="ring-wrapper">
<svg width="160" height="160">
<circle class="circle-bg" cx="80" cy="80" r="60"/>
<circle class="circle" id="progressCircle" cx="80" cy="80" r="60"/>
</svg>
</div>

<div class="bar-area">
<div>
<div class="bar" id="barS"></div>
<div class="bar-label">Sanjukta</div>
</div>
<div>
<div class="bar" id="barM"></div>
<div class="bar-label">Mousam</div>
</div>
</div>

</div>

<div class="exam-section" id="examSection"></div>

<div class="print-seal">
<div class="seal">Official</div>
<p>Authorized Signature</p>
</div>

<div class="footer">By Diptendu</div>

</div>

<script>

/* ===== MARKS EDIT HERE ===== */
let marksData={
"2026-02-14":{s:22.5,m:9}
};

/* ===== Schedule ===== */
function getExams(){
let exams=[];
for(let month=1;month<=8;month++){
let d=new Date(2026,month-1,1);
let sats=[];
while(d.getMonth()==month-1){
if(d.getDay()==6)sats.push(new Date(d));
d.setDate(d.getDate()+1);
}
if(month>=2&&month<=5){
if(sats[1])exams.push({date:sats[1],total:40});
if(sats[sats.length-1])exams.push({date:sats[sats.length-1],total:40});
}
if(month>=6&&month<=8){
sats.forEach(s=>exams.push({date:s,total:70}));
}
}
return exams;
}

let exams=getExams();
let examSection=document.getElementById("examSection");

let totalS=0,totalM=0,maxTotal=0;

exams.forEach(exam=>{
let year = exam.date.getFullYear();
let month = String(exam.date.getMonth()+1).padStart(2,'0');
let day = String(exam.date.getDate()).padStart(2,'0');
let dateStr = `${year}-${month}-${day}`;
let s=marksData[dateStr]?marksData[dateStr].s:0;
let m=marksData[dateStr]?marksData[dateStr].m:0;
let completed=(s>0||m>0);

if(completed){
totalS+=s;
totalM+=m;
maxTotal+=exam.total;
}

examSection.innerHTML+=`
<div class="exam-box ${completed?'':'pending'}">
<div class="exam-title">${exam.date.toDateString()}</div>
<div class="row"><span>Total Marks</span><span>${exam.total}</span></div>
<div class="row"><span>Sanjukta</span><span>${s}</span></div>
<div class="row"><span>Mousam</span><span>${m}</span></div>
</div>
`;
});

/* ===== Calculations ===== */
let avgS=maxTotal?(totalS/maxTotal)*100:0;
let avgM=maxTotal?(totalM/maxTotal)*100:0;
let overall=(avgS+avgM)/2;

/* ===== Animated Counter ===== */
function animateValue(id,start,end,duration){
let range=end-start;
let startTime=null;
function step(timestamp){
if(!startTime) startTime=timestamp;
let progress=Math.min((timestamp-startTime)/duration,1);
document.getElementById(id).innerHTML=(start+progress*range).toFixed(2)+"%";
if(progress<1) requestAnimationFrame(step);
}
requestAnimationFrame(step);
}

animateValue("bigAvg",0,overall,1000);

/* ===== Pass/Fail ===== */
let passDiv=document.getElementById("passFail");
if(overall>=40){
passDiv.innerHTML="PASS";
passDiv.className="badge pass";
}else{
passDiv.innerHTML="FAIL";
passDiv.className="badge fail";
}

/* ===== Rank ===== */
let rankText=document.getElementById("rankText");
if(avgS>avgM){
rankText.innerHTML="Rank 1: Sanjukta";
}else if(avgM>avgS){
rankText.innerHTML="Rank 1: Mousam";
}else{
rankText.innerHTML="Tie Rank";
}

/* ===== Ring Graph ===== */
let circle=document.getElementById("progressCircle");
let radius=60;
let circumference=2*Math.PI*radius;
circle.style.strokeDasharray=circumference;
circle.style.strokeDashoffset=circumference;

setTimeout(()=>{
let offset=circumference-(overall/100)*circumference;
circle.style.strokeDashoffset=offset;
},300);

/* ===== Bar Graph ===== */
let maxAvg=Math.max(avgS,avgM);
let hS=maxAvg?(avgS/maxAvg)*100:0;
let hM=maxAvg?(avgM/maxAvg)*100:0;

setTimeout(()=>{
document.getElementById("barS").style.height=hS+"%";
document.getElementById("barM").style.height=hM+"%";
},300);

</script>

</body>
</html>
